// mmd.js 1.0.0
// (c) 2011-2014 Greg MacWilliam
// Freely distributed under the MIT license
// Docs: github.com/gmac/micro-module-definition
var mmd=function(a,b){return a={},b={define:function(){var b=arguments,c=function(a,c){for(c=0;c<b.length;c++)if(typeof b[c]===a)return b[c]},d=c("string"),e=c("object"),f=c("function");if(!d||!f)throw"invalid definition";a[d]={d:e instanceof Array?e:[],f:f}},require:function(c,d){var e,f,g,h=!(c instanceof Array),i=this,j=null;for(h&&(c=[c]),g=0;g<c.length;g++)if(e=c[g],"mmd"===e)c[g]=b;else{if(!Object.prototype.hasOwnProperty.call(a,e))throw e+" is undefined";if(f=a[e],!f.e){if(f.p)throw"circular reference to "+e;f.p=1,f.e=f.f.apply(j,i.require(f.d)),f.p=0}c[g]=f.e}return d&&d.apply&&d.apply(j,c),h?c[0]:c}}}();